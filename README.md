<!--
Removing these lines for now because this package is not yet
integrated into GAP or its build system.

[![Build Status](https://travis-ci.org/gap-packages/semigroupviz.svg?branch=master)](https://travis-ci.org/gap-packages/semigroupviz)
[![Code Coverage](https://codecov.io/github/gap-packages/semigroupviz/coverage.svg?branch=master&token=)](https://codecov.io/gh/gap-packages/semigroupviz)
-->

# The Semigroup Visualization Package

## Purpose

This package adds visualization tools for semigroups.  It is built on the
JupyterViz package, which means that the visualizations it creates can be
used either in Jupyter notebooks or from the GAP REPL.

## Supported Visualizations

There are two supported visualization of a semigroup:
 1. [Egg-box diagrams](#egg-box-diagrams)
 2. [Cayley graphs](#cayley-graphs)

## Egg-box Diagrams

Let _S_ be a semigroup and make the following definitions, which introduce
[Green's Relations](https://en.wikipedia.org/wiki/Green%27s_relations),
each of which is an equivalence relation on _S_.

 * Let _S_<sup>1</sup> be the corresponding monoid (_S_ plus an identity iff it doesn't have one).
 * Write _S_<sup>1</sup>_a_ for the principal left ideal generated by _a_.
 * For _a_ and _b_ in _S_, write _aLb_ iff _S_<sup>1</sup>_a_=_S_<sup>1</sup>_b_.
 * Similarly, _aS_<sup>1</sup> is a principal right ideal and _S_<sup>1</sup>_aS_<sup>1</sup> is a principal two-sided ideal.
 * And naturally also define _aRb_ for the right ideals and _aJb_ for two-sided ideals.
 * Define _aHb_ iff _aLb_ and _aRb_.
 * Define _aDb_ iff the _R_-class for _a_ and the _L_-class for _b_ intersect.

Thus Green's relations are the _L_, _R_, _J_, _D_, and _H_.  They give us the following situation:

 * _S_ is partitioned into _D_-classes.
 * Within each _D_-class, it is partitioned into both _L_-classes and _R_-classes.
 * One can think of each _L_-class as a column and each _R_-class as a row, forming a grid.
 * Each cell in the grid is an _H_-class, an intersection of an _L_-class and an _R_-class.

Hence the name "egg box" (or "egg carton") which is also a grid of cells.

![An egg-carton](real-egg-box.jpg =300x300)

For example, if _S_ is
[the semigroup of non-invertible transformations](https://www.gap-system.org/Manuals/pkg/semigroups-3.0.20/doc/chap8.html#X7894EE357D103806)
generated by the six idempotents of degree 3 and rank 2 (the details of which are not important here),
then its egg-box diagram looks like the following.

![Example egg-box diagram](doc/example-diagram.png =576x300)

It has the following properties.

 * There are two _D_-classes, the two large blocks.
 * The first _D_-class has 3 _R_-classes (its rows), 3 _L_-classes (its columns) and 9 _H_-classes (its cells).
 * Each _H_-class in the first _D_-class has two elements from the semigroup in it.
   (In this particular semigroup, elements can be represented as sequences of positive integers.)
 * The second _D_-class has 1 _R_-class, 3 _L_-classes, and 3 _H_-classes, each with one element.

![Example egg-box diagram with components labeled](doc/label-example-diagram.png =576x300)

This package produces diagrams like the one shown above (without the colorful explanations).
Since semigroups can be very large, it also permits you to show just a portion of the diagram,
and expand/contract certain portions as needed for inspection.

## Cayley graphs

A semigroup acts on itself by right multiplication if we associate with any element _s_ in
the semigroup a function that maps any _t_ to _ts_ (right multiplication).  If the semigroup
is a group, such functions are permutations, but in general they are not.

Such functions can be graphed by defining a binary relation _R_ from such a function so that
_aRb_ if and only if _as_=_b_.  The vertices of the graph will be the elements of the
semigroup and its edges will be given by _R_.

We can define such an _R_ for each of the generators of a semigroup and graph each as a set
of edges with a different color, to distinguish them, all on the same graph.  This tends to
be quite cluttered, so we might choose some subset of the generators, just enough to make
the graph connected.

Here are some example results.

![Example Cayley graph 21 vertices](doc/sgp-S3-org.png =600x465)

![Example Cayley graph 15 vertices](doc/sgp-P3-org.png =600x495)

![Example Cayley graph 27 vertices](doc/sgp-F3-org.png =600x480)

## Usage

The package does not need to be compiled.

See the manual on [the package website](http://nathancarter.github.io/semigroupviz),
which contains other usage examples and full documentation.

## Maintainer

 * Nathan Carter

This GAP package is free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
